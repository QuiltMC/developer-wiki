{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://quiltmc-website/./js/controllers/ sync \\.(ts)$","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/event_listener.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/dispatcher.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/action_descriptor.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/action.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/binding.js","webpack://quiltmc-website/./node_modules/@stimulus/mutation-observers/dist/element_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/mutation-observers/dist/attribute_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/mutation-observers/dist/string_map_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/multimap/dist/set_operations.js","webpack://quiltmc-website/./node_modules/@stimulus/multimap/dist/multimap.js","webpack://quiltmc-website/./node_modules/@stimulus/multimap/dist/indexed_multimap.js","webpack://quiltmc-website/./node_modules/@stimulus/mutation-observers/dist/token_list_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/mutation-observers/dist/value_list_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/binding_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/value_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/context.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/inheritable_statics.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/blessing.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/module.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/definition.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/class_map.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/string_helpers.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/data_map.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/guide.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/selectors.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/target_set.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/scope.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/scope_observer.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/router.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/schema.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/application.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/class_properties.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/target_properties.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/value_properties.js","webpack://quiltmc-website/./node_modules/@stimulus/core/dist/controller.js","webpack://quiltmc-website/./js/controllers/loader-json-controller.ts","webpack://quiltmc-website/./js/controllers/navbar-controller.ts","webpack://quiltmc-website/./js/controllers/sidebar-controller.ts","webpack://quiltmc-website/./js/controllers/snippet-controller.ts","webpack://quiltmc-website/./js/controllers/version-controller.ts","webpack://quiltmc-website/./js/meta.ts","webpack://quiltmc-website/webpack/bootstrap","webpack://quiltmc-website/webpack/runtime/define property getters","webpack://quiltmc-website/webpack/runtime/hasOwnProperty shorthand","webpack://quiltmc-website/webpack/runtime/make namespace object","webpack://quiltmc-website/./js/installer.ts","webpack://quiltmc-website/./js/languages.ts","webpack://quiltmc-website/./js/theme.ts","webpack://quiltmc-website/./js/index.ts","webpack://quiltmc-website/./node_modules/@stimulus/webpack-helpers/dist/index.js","webpack://quiltmc-website/./js/install-page.ts"],"sourcesContent":["var map = {\n\t\"./loader-json-controller.ts\": 132,\n\t\"./navbar-controller.ts\": 186,\n\t\"./sidebar-controller.ts\": 31,\n\t\"./snippet-controller.ts\": 657,\n\t\"./version-controller.ts\": 766\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 865;","var EventListener = /** @class */ (function () {\n    function EventListener(eventTarget, eventName, eventOptions) {\n        this.eventTarget = eventTarget;\n        this.eventName = eventName;\n        this.eventOptions = eventOptions;\n        this.unorderedBindings = new Set();\n    }\n    EventListener.prototype.connect = function () {\n        this.eventTarget.addEventListener(this.eventName, this, this.eventOptions);\n    };\n    EventListener.prototype.disconnect = function () {\n        this.eventTarget.removeEventListener(this.eventName, this, this.eventOptions);\n    };\n    // Binding observer delegate\n    /** @hidden */\n    EventListener.prototype.bindingConnected = function (binding) {\n        this.unorderedBindings.add(binding);\n    };\n    /** @hidden */\n    EventListener.prototype.bindingDisconnected = function (binding) {\n        this.unorderedBindings.delete(binding);\n    };\n    EventListener.prototype.handleEvent = function (event) {\n        var extendedEvent = extendEvent(event);\n        for (var _i = 0, _a = this.bindings; _i < _a.length; _i++) {\n            var binding = _a[_i];\n            if (extendedEvent.immediatePropagationStopped) {\n                break;\n            }\n            else {\n                binding.handleEvent(extendedEvent);\n            }\n        }\n    };\n    Object.defineProperty(EventListener.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.unorderedBindings).sort(function (left, right) {\n                var leftIndex = left.index, rightIndex = right.index;\n                return leftIndex < rightIndex ? -1 : leftIndex > rightIndex ? 1 : 0;\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return EventListener;\n}());\nexport { EventListener };\nfunction extendEvent(event) {\n    if (\"immediatePropagationStopped\" in event) {\n        return event;\n    }\n    else {\n        var stopImmediatePropagation_1 = event.stopImmediatePropagation;\n        return Object.assign(event, {\n            immediatePropagationStopped: false,\n            stopImmediatePropagation: function () {\n                this.immediatePropagationStopped = true;\n                stopImmediatePropagation_1.call(this);\n            }\n        });\n    }\n}\n//# sourceMappingURL=event_listener.js.map","import { EventListener } from \"./event_listener\";\nvar Dispatcher = /** @class */ (function () {\n    function Dispatcher(application) {\n        this.application = application;\n        this.eventListenerMaps = new Map;\n        this.started = false;\n    }\n    Dispatcher.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.connect(); });\n        }\n    };\n    Dispatcher.prototype.stop = function () {\n        if (this.started) {\n            this.started = false;\n            this.eventListeners.forEach(function (eventListener) { return eventListener.disconnect(); });\n        }\n    };\n    Object.defineProperty(Dispatcher.prototype, \"eventListeners\", {\n        get: function () {\n            return Array.from(this.eventListenerMaps.values())\n                .reduce(function (listeners, map) { return listeners.concat(Array.from(map.values())); }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Binding observer delegate\n    /** @hidden */\n    Dispatcher.prototype.bindingConnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingConnected(binding);\n    };\n    /** @hidden */\n    Dispatcher.prototype.bindingDisconnected = function (binding) {\n        this.fetchEventListenerForBinding(binding).bindingDisconnected(binding);\n    };\n    // Error handling\n    Dispatcher.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    Dispatcher.prototype.fetchEventListenerForBinding = function (binding) {\n        var eventTarget = binding.eventTarget, eventName = binding.eventName, eventOptions = binding.eventOptions;\n        return this.fetchEventListener(eventTarget, eventName, eventOptions);\n    };\n    Dispatcher.prototype.fetchEventListener = function (eventTarget, eventName, eventOptions) {\n        var eventListenerMap = this.fetchEventListenerMapForEventTarget(eventTarget);\n        var cacheKey = this.cacheKey(eventName, eventOptions);\n        var eventListener = eventListenerMap.get(cacheKey);\n        if (!eventListener) {\n            eventListener = this.createEventListener(eventTarget, eventName, eventOptions);\n            eventListenerMap.set(cacheKey, eventListener);\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.createEventListener = function (eventTarget, eventName, eventOptions) {\n        var eventListener = new EventListener(eventTarget, eventName, eventOptions);\n        if (this.started) {\n            eventListener.connect();\n        }\n        return eventListener;\n    };\n    Dispatcher.prototype.fetchEventListenerMapForEventTarget = function (eventTarget) {\n        var eventListenerMap = this.eventListenerMaps.get(eventTarget);\n        if (!eventListenerMap) {\n            eventListenerMap = new Map;\n            this.eventListenerMaps.set(eventTarget, eventListenerMap);\n        }\n        return eventListenerMap;\n    };\n    Dispatcher.prototype.cacheKey = function (eventName, eventOptions) {\n        var parts = [eventName];\n        Object.keys(eventOptions).sort().forEach(function (key) {\n            parts.push(\"\" + (eventOptions[key] ? \"\" : \"!\") + key);\n        });\n        return parts.join(\":\");\n    };\n    return Dispatcher;\n}());\nexport { Dispatcher };\n//# sourceMappingURL=dispatcher.js.map","// capture nos.:            12   23 4               43   1 5   56 7      768 9  98\nvar descriptorPattern = /^((.+?)(@(window|document))?->)?(.+?)(#([^:]+?))(:(.+))?$/;\nexport function parseActionDescriptorString(descriptorString) {\n    var source = descriptorString.trim();\n    var matches = source.match(descriptorPattern) || [];\n    return {\n        eventTarget: parseEventTarget(matches[4]),\n        eventName: matches[2],\n        eventOptions: matches[9] ? parseEventOptions(matches[9]) : {},\n        identifier: matches[5],\n        methodName: matches[7]\n    };\n}\nfunction parseEventTarget(eventTargetName) {\n    if (eventTargetName == \"window\") {\n        return window;\n    }\n    else if (eventTargetName == \"document\") {\n        return document;\n    }\n}\nfunction parseEventOptions(eventOptions) {\n    return eventOptions.split(\":\").reduce(function (options, token) {\n        var _a;\n        return Object.assign(options, (_a = {}, _a[token.replace(/^!/, \"\")] = !/^!/.test(token), _a));\n    }, {});\n}\nexport function stringifyEventTarget(eventTarget) {\n    if (eventTarget == window) {\n        return \"window\";\n    }\n    else if (eventTarget == document) {\n        return \"document\";\n    }\n}\n//# sourceMappingURL=action_descriptor.js.map","import { parseActionDescriptorString, stringifyEventTarget } from \"./action_descriptor\";\nvar Action = /** @class */ (function () {\n    function Action(element, index, descriptor) {\n        this.element = element;\n        this.index = index;\n        this.eventTarget = descriptor.eventTarget || element;\n        this.eventName = descriptor.eventName || getDefaultEventNameForElement(element) || error(\"missing event name\");\n        this.eventOptions = descriptor.eventOptions || {};\n        this.identifier = descriptor.identifier || error(\"missing identifier\");\n        this.methodName = descriptor.methodName || error(\"missing method name\");\n    }\n    Action.forToken = function (token) {\n        return new this(token.element, token.index, parseActionDescriptorString(token.content));\n    };\n    Action.prototype.toString = function () {\n        var eventNameSuffix = this.eventTargetName ? \"@\" + this.eventTargetName : \"\";\n        return \"\" + this.eventName + eventNameSuffix + \"->\" + this.identifier + \"#\" + this.methodName;\n    };\n    Object.defineProperty(Action.prototype, \"eventTargetName\", {\n        get: function () {\n            return stringifyEventTarget(this.eventTarget);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Action;\n}());\nexport { Action };\nvar defaultEventNames = {\n    \"a\": function (e) { return \"click\"; },\n    \"button\": function (e) { return \"click\"; },\n    \"form\": function (e) { return \"submit\"; },\n    \"input\": function (e) { return e.getAttribute(\"type\") == \"submit\" ? \"click\" : \"input\"; },\n    \"select\": function (e) { return \"change\"; },\n    \"textarea\": function (e) { return \"input\"; }\n};\nexport function getDefaultEventNameForElement(element) {\n    var tagName = element.tagName.toLowerCase();\n    if (tagName in defaultEventNames) {\n        return defaultEventNames[tagName](element);\n    }\n}\nfunction error(message) {\n    throw new Error(message);\n}\n//# sourceMappingURL=action.js.map","var Binding = /** @class */ (function () {\n    function Binding(context, action) {\n        this.context = context;\n        this.action = action;\n    }\n    Object.defineProperty(Binding.prototype, \"index\", {\n        get: function () {\n            return this.action.index;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventTarget\", {\n        get: function () {\n            return this.action.eventTarget;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"eventOptions\", {\n        get: function () {\n            return this.action.eventOptions;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Binding.prototype.handleEvent = function (event) {\n        if (this.willBeInvokedByEvent(event)) {\n            this.invokeWithEvent(event);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"eventName\", {\n        get: function () {\n            return this.action.eventName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"method\", {\n        get: function () {\n            var method = this.controller[this.methodName];\n            if (typeof method == \"function\") {\n                return method;\n            }\n            throw new Error(\"Action \\\"\" + this.action + \"\\\" references undefined method \\\"\" + this.methodName + \"\\\"\");\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Binding.prototype.invokeWithEvent = function (event) {\n        try {\n            this.method.call(this.controller, event);\n        }\n        catch (error) {\n            var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element, index = _a.index;\n            var detail = { identifier: identifier, controller: controller, element: element, index: index, event: event };\n            this.context.handleError(error, \"invoking action \\\"\" + this.action + \"\\\"\", detail);\n        }\n    };\n    Binding.prototype.willBeInvokedByEvent = function (event) {\n        var eventTarget = event.target;\n        if (this.element === eventTarget) {\n            return true;\n        }\n        else if (eventTarget instanceof Element && this.element.contains(eventTarget)) {\n            return this.scope.containsElement(eventTarget);\n        }\n        else {\n            return this.scope.containsElement(this.action.element);\n        }\n    };\n    Object.defineProperty(Binding.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"methodName\", {\n        get: function () {\n            return this.action.methodName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Binding.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Binding;\n}());\nexport { Binding };\n//# sourceMappingURL=binding.js.map","var ElementObserver = /** @class */ (function () {\n    function ElementObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.started = false;\n        this.delegate = delegate;\n        this.elements = new Set;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    ElementObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true, childList: true, subtree: true });\n            this.refresh();\n        }\n    };\n    ElementObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    ElementObserver.prototype.refresh = function () {\n        if (this.started) {\n            var matches = new Set(this.matchElementsInTree());\n            for (var _i = 0, _a = Array.from(this.elements); _i < _a.length; _i++) {\n                var element = _a[_i];\n                if (!matches.has(element)) {\n                    this.removeElement(element);\n                }\n            }\n            for (var _b = 0, _c = Array.from(matches); _b < _c.length; _b++) {\n                var element = _c[_b];\n                this.addElement(element);\n            }\n        }\n    };\n    // Mutation record processing\n    ElementObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    ElementObserver.prototype.processMutation = function (mutation) {\n        if (mutation.type == \"attributes\") {\n            this.processAttributeChange(mutation.target, mutation.attributeName);\n        }\n        else if (mutation.type == \"childList\") {\n            this.processRemovedNodes(mutation.removedNodes);\n            this.processAddedNodes(mutation.addedNodes);\n        }\n    };\n    ElementObserver.prototype.processAttributeChange = function (node, attributeName) {\n        var element = node;\n        if (this.elements.has(element)) {\n            if (this.delegate.elementAttributeChanged && this.matchElement(element)) {\n                this.delegate.elementAttributeChanged(element, attributeName);\n            }\n            else {\n                this.removeElement(element);\n            }\n        }\n        else if (this.matchElement(element)) {\n            this.addElement(element);\n        }\n    };\n    ElementObserver.prototype.processRemovedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element) {\n                this.processTree(element, this.removeElement);\n            }\n        }\n    };\n    ElementObserver.prototype.processAddedNodes = function (nodes) {\n        for (var _i = 0, _a = Array.from(nodes); _i < _a.length; _i++) {\n            var node = _a[_i];\n            var element = this.elementFromNode(node);\n            if (element && this.elementIsActive(element)) {\n                this.processTree(element, this.addElement);\n            }\n        }\n    };\n    // Element matching\n    ElementObserver.prototype.matchElement = function (element) {\n        return this.delegate.matchElement(element);\n    };\n    ElementObserver.prototype.matchElementsInTree = function (tree) {\n        if (tree === void 0) { tree = this.element; }\n        return this.delegate.matchElementsInTree(tree);\n    };\n    ElementObserver.prototype.processTree = function (tree, processor) {\n        for (var _i = 0, _a = this.matchElementsInTree(tree); _i < _a.length; _i++) {\n            var element = _a[_i];\n            processor.call(this, element);\n        }\n    };\n    ElementObserver.prototype.elementFromNode = function (node) {\n        if (node.nodeType == Node.ELEMENT_NODE) {\n            return node;\n        }\n    };\n    ElementObserver.prototype.elementIsActive = function (element) {\n        if (element.isConnected != this.element.isConnected) {\n            return false;\n        }\n        else {\n            return this.element.contains(element);\n        }\n    };\n    // Element tracking\n    ElementObserver.prototype.addElement = function (element) {\n        if (!this.elements.has(element)) {\n            if (this.elementIsActive(element)) {\n                this.elements.add(element);\n                if (this.delegate.elementMatched) {\n                    this.delegate.elementMatched(element);\n                }\n            }\n        }\n    };\n    ElementObserver.prototype.removeElement = function (element) {\n        if (this.elements.has(element)) {\n            this.elements.delete(element);\n            if (this.delegate.elementUnmatched) {\n                this.delegate.elementUnmatched(element);\n            }\n        }\n    };\n    return ElementObserver;\n}());\nexport { ElementObserver };\n//# sourceMappingURL=element_observer.js.map","import { ElementObserver } from \"./element_observer\";\nvar AttributeObserver = /** @class */ (function () {\n    function AttributeObserver(element, attributeName, delegate) {\n        this.attributeName = attributeName;\n        this.delegate = delegate;\n        this.elementObserver = new ElementObserver(element, this);\n    }\n    Object.defineProperty(AttributeObserver.prototype, \"element\", {\n        get: function () {\n            return this.elementObserver.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(AttributeObserver.prototype, \"selector\", {\n        get: function () {\n            return \"[\" + this.attributeName + \"]\";\n        },\n        enumerable: false,\n        configurable: true\n    });\n    AttributeObserver.prototype.start = function () {\n        this.elementObserver.start();\n    };\n    AttributeObserver.prototype.stop = function () {\n        this.elementObserver.stop();\n    };\n    AttributeObserver.prototype.refresh = function () {\n        this.elementObserver.refresh();\n    };\n    Object.defineProperty(AttributeObserver.prototype, \"started\", {\n        get: function () {\n            return this.elementObserver.started;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Element observer delegate\n    AttributeObserver.prototype.matchElement = function (element) {\n        return element.hasAttribute(this.attributeName);\n    };\n    AttributeObserver.prototype.matchElementsInTree = function (tree) {\n        var match = this.matchElement(tree) ? [tree] : [];\n        var matches = Array.from(tree.querySelectorAll(this.selector));\n        return match.concat(matches);\n    };\n    AttributeObserver.prototype.elementMatched = function (element) {\n        if (this.delegate.elementMatchedAttribute) {\n            this.delegate.elementMatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementUnmatched = function (element) {\n        if (this.delegate.elementUnmatchedAttribute) {\n            this.delegate.elementUnmatchedAttribute(element, this.attributeName);\n        }\n    };\n    AttributeObserver.prototype.elementAttributeChanged = function (element, attributeName) {\n        if (this.delegate.elementAttributeValueChanged && this.attributeName == attributeName) {\n            this.delegate.elementAttributeValueChanged(element, attributeName);\n        }\n    };\n    return AttributeObserver;\n}());\nexport { AttributeObserver };\n//# sourceMappingURL=attribute_observer.js.map","var StringMapObserver = /** @class */ (function () {\n    function StringMapObserver(element, delegate) {\n        var _this = this;\n        this.element = element;\n        this.delegate = delegate;\n        this.started = false;\n        this.stringMap = new Map;\n        this.mutationObserver = new MutationObserver(function (mutations) { return _this.processMutations(mutations); });\n    }\n    StringMapObserver.prototype.start = function () {\n        if (!this.started) {\n            this.started = true;\n            this.mutationObserver.observe(this.element, { attributes: true });\n            this.refresh();\n        }\n    };\n    StringMapObserver.prototype.stop = function () {\n        if (this.started) {\n            this.mutationObserver.takeRecords();\n            this.mutationObserver.disconnect();\n            this.started = false;\n        }\n    };\n    StringMapObserver.prototype.refresh = function () {\n        if (this.started) {\n            for (var _i = 0, _a = this.knownAttributeNames; _i < _a.length; _i++) {\n                var attributeName = _a[_i];\n                this.refreshAttribute(attributeName);\n            }\n        }\n    };\n    // Mutation record processing\n    StringMapObserver.prototype.processMutations = function (mutations) {\n        if (this.started) {\n            for (var _i = 0, mutations_1 = mutations; _i < mutations_1.length; _i++) {\n                var mutation = mutations_1[_i];\n                this.processMutation(mutation);\n            }\n        }\n    };\n    StringMapObserver.prototype.processMutation = function (mutation) {\n        var attributeName = mutation.attributeName;\n        if (attributeName) {\n            this.refreshAttribute(attributeName);\n        }\n    };\n    // State tracking\n    StringMapObserver.prototype.refreshAttribute = function (attributeName) {\n        var key = this.delegate.getStringMapKeyForAttribute(attributeName);\n        if (key != null) {\n            if (!this.stringMap.has(attributeName)) {\n                this.stringMapKeyAdded(key, attributeName);\n            }\n            var value = this.element.getAttribute(attributeName);\n            if (this.stringMap.get(attributeName) != value) {\n                this.stringMapValueChanged(value, key);\n            }\n            if (value == null) {\n                this.stringMap.delete(attributeName);\n                this.stringMapKeyRemoved(key, attributeName);\n            }\n            else {\n                this.stringMap.set(attributeName, value);\n            }\n        }\n    };\n    StringMapObserver.prototype.stringMapKeyAdded = function (key, attributeName) {\n        if (this.delegate.stringMapKeyAdded) {\n            this.delegate.stringMapKeyAdded(key, attributeName);\n        }\n    };\n    StringMapObserver.prototype.stringMapValueChanged = function (value, key) {\n        if (this.delegate.stringMapValueChanged) {\n            this.delegate.stringMapValueChanged(value, key);\n        }\n    };\n    StringMapObserver.prototype.stringMapKeyRemoved = function (key, attributeName) {\n        if (this.delegate.stringMapKeyRemoved) {\n            this.delegate.stringMapKeyRemoved(key, attributeName);\n        }\n    };\n    Object.defineProperty(StringMapObserver.prototype, \"knownAttributeNames\", {\n        get: function () {\n            return Array.from(new Set(this.currentAttributeNames.concat(this.recordedAttributeNames)));\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StringMapObserver.prototype, \"currentAttributeNames\", {\n        get: function () {\n            return Array.from(this.element.attributes).map(function (attribute) { return attribute.name; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(StringMapObserver.prototype, \"recordedAttributeNames\", {\n        get: function () {\n            return Array.from(this.stringMap.keys());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return StringMapObserver;\n}());\nexport { StringMapObserver };\n//# sourceMappingURL=string_map_observer.js.map","export function add(map, key, value) {\n    fetch(map, key).add(value);\n}\nexport function del(map, key, value) {\n    fetch(map, key).delete(value);\n    prune(map, key);\n}\nexport function fetch(map, key) {\n    var values = map.get(key);\n    if (!values) {\n        values = new Set();\n        map.set(key, values);\n    }\n    return values;\n}\nexport function prune(map, key) {\n    var values = map.get(key);\n    if (values != null && values.size == 0) {\n        map.delete(key);\n    }\n}\n//# sourceMappingURL=set_operations.js.map","import { add, del } from \"./set_operations\";\nvar Multimap = /** @class */ (function () {\n    function Multimap() {\n        this.valuesByKey = new Map();\n    }\n    Object.defineProperty(Multimap.prototype, \"values\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (values, set) { return values.concat(Array.from(set)); }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Multimap.prototype, \"size\", {\n        get: function () {\n            var sets = Array.from(this.valuesByKey.values());\n            return sets.reduce(function (size, set) { return size + set.size; }, 0);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Multimap.prototype.add = function (key, value) {\n        add(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.delete = function (key, value) {\n        del(this.valuesByKey, key, value);\n    };\n    Multimap.prototype.has = function (key, value) {\n        var values = this.valuesByKey.get(key);\n        return values != null && values.has(value);\n    };\n    Multimap.prototype.hasKey = function (key) {\n        return this.valuesByKey.has(key);\n    };\n    Multimap.prototype.hasValue = function (value) {\n        var sets = Array.from(this.valuesByKey.values());\n        return sets.some(function (set) { return set.has(value); });\n    };\n    Multimap.prototype.getValuesForKey = function (key) {\n        var values = this.valuesByKey.get(key);\n        return values ? Array.from(values) : [];\n    };\n    Multimap.prototype.getKeysForValue = function (value) {\n        return Array.from(this.valuesByKey)\n            .filter(function (_a) {\n            var key = _a[0], values = _a[1];\n            return values.has(value);\n        })\n            .map(function (_a) {\n            var key = _a[0], values = _a[1];\n            return key;\n        });\n    };\n    return Multimap;\n}());\nexport { Multimap };\n//# sourceMappingURL=multimap.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport { Multimap } from \"./multimap\";\nimport { add, del } from \"./set_operations\";\nvar IndexedMultimap = /** @class */ (function (_super) {\n    __extends(IndexedMultimap, _super);\n    function IndexedMultimap() {\n        var _this = _super.call(this) || this;\n        _this.keysByValue = new Map;\n        return _this;\n    }\n    Object.defineProperty(IndexedMultimap.prototype, \"values\", {\n        get: function () {\n            return Array.from(this.keysByValue.keys());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IndexedMultimap.prototype.add = function (key, value) {\n        _super.prototype.add.call(this, key, value);\n        add(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.delete = function (key, value) {\n        _super.prototype.delete.call(this, key, value);\n        del(this.keysByValue, value, key);\n    };\n    IndexedMultimap.prototype.hasValue = function (value) {\n        return this.keysByValue.has(value);\n    };\n    IndexedMultimap.prototype.getKeysForValue = function (value) {\n        var set = this.keysByValue.get(value);\n        return set ? Array.from(set) : [];\n    };\n    return IndexedMultimap;\n}(Multimap));\nexport { IndexedMultimap };\n//# sourceMappingURL=indexed_multimap.js.map","import { AttributeObserver } from \"./attribute_observer\";\nimport { Multimap } from \"@stimulus/multimap\";\nvar TokenListObserver = /** @class */ (function () {\n    function TokenListObserver(element, attributeName, delegate) {\n        this.attributeObserver = new AttributeObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.tokensByElement = new Multimap;\n    }\n    Object.defineProperty(TokenListObserver.prototype, \"started\", {\n        get: function () {\n            return this.attributeObserver.started;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TokenListObserver.prototype.start = function () {\n        this.attributeObserver.start();\n    };\n    TokenListObserver.prototype.stop = function () {\n        this.attributeObserver.stop();\n    };\n    TokenListObserver.prototype.refresh = function () {\n        this.attributeObserver.refresh();\n    };\n    Object.defineProperty(TokenListObserver.prototype, \"element\", {\n        get: function () {\n            return this.attributeObserver.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TokenListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.attributeObserver.attributeName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Attribute observer delegate\n    TokenListObserver.prototype.elementMatchedAttribute = function (element) {\n        this.tokensMatched(this.readTokensForElement(element));\n    };\n    TokenListObserver.prototype.elementAttributeValueChanged = function (element) {\n        var _a = this.refreshTokensForElement(element), unmatchedTokens = _a[0], matchedTokens = _a[1];\n        this.tokensUnmatched(unmatchedTokens);\n        this.tokensMatched(matchedTokens);\n    };\n    TokenListObserver.prototype.elementUnmatchedAttribute = function (element) {\n        this.tokensUnmatched(this.tokensByElement.getValuesForKey(element));\n    };\n    TokenListObserver.prototype.tokensMatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenMatched(token); });\n    };\n    TokenListObserver.prototype.tokensUnmatched = function (tokens) {\n        var _this = this;\n        tokens.forEach(function (token) { return _this.tokenUnmatched(token); });\n    };\n    TokenListObserver.prototype.tokenMatched = function (token) {\n        this.delegate.tokenMatched(token);\n        this.tokensByElement.add(token.element, token);\n    };\n    TokenListObserver.prototype.tokenUnmatched = function (token) {\n        this.delegate.tokenUnmatched(token);\n        this.tokensByElement.delete(token.element, token);\n    };\n    TokenListObserver.prototype.refreshTokensForElement = function (element) {\n        var previousTokens = this.tokensByElement.getValuesForKey(element);\n        var currentTokens = this.readTokensForElement(element);\n        var firstDifferingIndex = zip(previousTokens, currentTokens)\n            .findIndex(function (_a) {\n            var previousToken = _a[0], currentToken = _a[1];\n            return !tokensAreEqual(previousToken, currentToken);\n        });\n        if (firstDifferingIndex == -1) {\n            return [[], []];\n        }\n        else {\n            return [previousTokens.slice(firstDifferingIndex), currentTokens.slice(firstDifferingIndex)];\n        }\n    };\n    TokenListObserver.prototype.readTokensForElement = function (element) {\n        var attributeName = this.attributeName;\n        var tokenString = element.getAttribute(attributeName) || \"\";\n        return parseTokenString(tokenString, element, attributeName);\n    };\n    return TokenListObserver;\n}());\nexport { TokenListObserver };\nfunction parseTokenString(tokenString, element, attributeName) {\n    return tokenString.trim().split(/\\s+/).filter(function (content) { return content.length; })\n        .map(function (content, index) { return ({ element: element, attributeName: attributeName, content: content, index: index }); });\n}\nfunction zip(left, right) {\n    var length = Math.max(left.length, right.length);\n    return Array.from({ length: length }, function (_, index) { return [left[index], right[index]]; });\n}\nfunction tokensAreEqual(left, right) {\n    return left && right && left.index == right.index && left.content == right.content;\n}\n//# sourceMappingURL=token_list_observer.js.map","import { TokenListObserver } from \"./token_list_observer\";\nvar ValueListObserver = /** @class */ (function () {\n    function ValueListObserver(element, attributeName, delegate) {\n        this.tokenListObserver = new TokenListObserver(element, attributeName, this);\n        this.delegate = delegate;\n        this.parseResultsByToken = new WeakMap;\n        this.valuesByTokenByElement = new WeakMap;\n    }\n    Object.defineProperty(ValueListObserver.prototype, \"started\", {\n        get: function () {\n            return this.tokenListObserver.started;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ValueListObserver.prototype.start = function () {\n        this.tokenListObserver.start();\n    };\n    ValueListObserver.prototype.stop = function () {\n        this.tokenListObserver.stop();\n    };\n    ValueListObserver.prototype.refresh = function () {\n        this.tokenListObserver.refresh();\n    };\n    Object.defineProperty(ValueListObserver.prototype, \"element\", {\n        get: function () {\n            return this.tokenListObserver.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ValueListObserver.prototype, \"attributeName\", {\n        get: function () {\n            return this.tokenListObserver.attributeName;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ValueListObserver.prototype.tokenMatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).set(token, value);\n            this.delegate.elementMatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.tokenUnmatched = function (token) {\n        var element = token.element;\n        var value = this.fetchParseResultForToken(token).value;\n        if (value) {\n            this.fetchValuesByTokenForElement(element).delete(token);\n            this.delegate.elementUnmatchedValue(element, value);\n        }\n    };\n    ValueListObserver.prototype.fetchParseResultForToken = function (token) {\n        var parseResult = this.parseResultsByToken.get(token);\n        if (!parseResult) {\n            parseResult = this.parseToken(token);\n            this.parseResultsByToken.set(token, parseResult);\n        }\n        return parseResult;\n    };\n    ValueListObserver.prototype.fetchValuesByTokenForElement = function (element) {\n        var valuesByToken = this.valuesByTokenByElement.get(element);\n        if (!valuesByToken) {\n            valuesByToken = new Map;\n            this.valuesByTokenByElement.set(element, valuesByToken);\n        }\n        return valuesByToken;\n    };\n    ValueListObserver.prototype.parseToken = function (token) {\n        try {\n            var value = this.delegate.parseValueForToken(token);\n            return { value: value };\n        }\n        catch (error) {\n            return { error: error };\n        }\n    };\n    return ValueListObserver;\n}());\nexport { ValueListObserver };\n//# sourceMappingURL=value_list_observer.js.map","import { Action } from \"./action\";\nimport { Binding } from \"./binding\";\nimport { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar BindingObserver = /** @class */ (function () {\n    function BindingObserver(context, delegate) {\n        this.context = context;\n        this.delegate = delegate;\n        this.bindingsByAction = new Map;\n    }\n    BindingObserver.prototype.start = function () {\n        if (!this.valueListObserver) {\n            this.valueListObserver = new ValueListObserver(this.element, this.actionAttribute, this);\n            this.valueListObserver.start();\n        }\n    };\n    BindingObserver.prototype.stop = function () {\n        if (this.valueListObserver) {\n            this.valueListObserver.stop();\n            delete this.valueListObserver;\n            this.disconnectAllActions();\n        }\n    };\n    Object.defineProperty(BindingObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"identifier\", {\n        get: function () {\n            return this.context.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"actionAttribute\", {\n        get: function () {\n            return this.schema.actionAttribute;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"schema\", {\n        get: function () {\n            return this.context.schema;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BindingObserver.prototype, \"bindings\", {\n        get: function () {\n            return Array.from(this.bindingsByAction.values());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BindingObserver.prototype.connectAction = function (action) {\n        var binding = new Binding(this.context, action);\n        this.bindingsByAction.set(action, binding);\n        this.delegate.bindingConnected(binding);\n    };\n    BindingObserver.prototype.disconnectAction = function (action) {\n        var binding = this.bindingsByAction.get(action);\n        if (binding) {\n            this.bindingsByAction.delete(action);\n            this.delegate.bindingDisconnected(binding);\n        }\n    };\n    BindingObserver.prototype.disconnectAllActions = function () {\n        var _this = this;\n        this.bindings.forEach(function (binding) { return _this.delegate.bindingDisconnected(binding); });\n        this.bindingsByAction.clear();\n    };\n    // Value observer delegate\n    BindingObserver.prototype.parseValueForToken = function (token) {\n        var action = Action.forToken(token);\n        if (action.identifier == this.identifier) {\n            return action;\n        }\n    };\n    BindingObserver.prototype.elementMatchedValue = function (element, action) {\n        this.connectAction(action);\n    };\n    BindingObserver.prototype.elementUnmatchedValue = function (element, action) {\n        this.disconnectAction(action);\n    };\n    return BindingObserver;\n}());\nexport { BindingObserver };\n//# sourceMappingURL=binding_observer.js.map","import { StringMapObserver } from \"@stimulus/mutation-observers\";\nvar ValueObserver = /** @class */ (function () {\n    function ValueObserver(context, receiver) {\n        this.context = context;\n        this.receiver = receiver;\n        this.stringMapObserver = new StringMapObserver(this.element, this);\n        this.valueDescriptorMap = this.controller.valueDescriptorMap;\n        this.invokeChangedCallbacksForDefaultValues();\n    }\n    ValueObserver.prototype.start = function () {\n        this.stringMapObserver.start();\n    };\n    ValueObserver.prototype.stop = function () {\n        this.stringMapObserver.stop();\n    };\n    Object.defineProperty(ValueObserver.prototype, \"element\", {\n        get: function () {\n            return this.context.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(ValueObserver.prototype, \"controller\", {\n        get: function () {\n            return this.context.controller;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // String map observer delegate\n    ValueObserver.prototype.getStringMapKeyForAttribute = function (attributeName) {\n        if (attributeName in this.valueDescriptorMap) {\n            return this.valueDescriptorMap[attributeName].name;\n        }\n    };\n    ValueObserver.prototype.stringMapValueChanged = function (attributeValue, name) {\n        this.invokeChangedCallbackForValue(name);\n    };\n    ValueObserver.prototype.invokeChangedCallbacksForDefaultValues = function () {\n        for (var _i = 0, _a = this.valueDescriptors; _i < _a.length; _i++) {\n            var _b = _a[_i], key = _b.key, name_1 = _b.name, defaultValue = _b.defaultValue;\n            if (defaultValue != undefined && !this.controller.data.has(key)) {\n                this.invokeChangedCallbackForValue(name_1);\n            }\n        }\n    };\n    ValueObserver.prototype.invokeChangedCallbackForValue = function (name) {\n        var methodName = name + \"Changed\";\n        var method = this.receiver[methodName];\n        if (typeof method == \"function\") {\n            var value = this.receiver[name];\n            method.call(this.receiver, value);\n        }\n    };\n    Object.defineProperty(ValueObserver.prototype, \"valueDescriptors\", {\n        get: function () {\n            var valueDescriptorMap = this.valueDescriptorMap;\n            return Object.keys(valueDescriptorMap).map(function (key) { return valueDescriptorMap[key]; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ValueObserver;\n}());\nexport { ValueObserver };\n//# sourceMappingURL=value_observer.js.map","import { BindingObserver } from \"./binding_observer\";\nimport { ValueObserver } from \"./value_observer\";\nvar Context = /** @class */ (function () {\n    function Context(module, scope) {\n        this.module = module;\n        this.scope = scope;\n        this.controller = new module.controllerConstructor(this);\n        this.bindingObserver = new BindingObserver(this, this.dispatcher);\n        this.valueObserver = new ValueObserver(this, this.controller);\n        try {\n            this.controller.initialize();\n        }\n        catch (error) {\n            this.handleError(error, \"initializing controller\");\n        }\n    }\n    Context.prototype.connect = function () {\n        this.bindingObserver.start();\n        this.valueObserver.start();\n        try {\n            this.controller.connect();\n        }\n        catch (error) {\n            this.handleError(error, \"connecting controller\");\n        }\n    };\n    Context.prototype.disconnect = function () {\n        try {\n            this.controller.disconnect();\n        }\n        catch (error) {\n            this.handleError(error, \"disconnecting controller\");\n        }\n        this.valueObserver.stop();\n        this.bindingObserver.stop();\n    };\n    Object.defineProperty(Context.prototype, \"application\", {\n        get: function () {\n            return this.module.application;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"identifier\", {\n        get: function () {\n            return this.module.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"dispatcher\", {\n        get: function () {\n            return this.application.dispatcher;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Context.prototype, \"parentElement\", {\n        get: function () {\n            return this.element.parentElement;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Error handling\n    Context.prototype.handleError = function (error, message, detail) {\n        if (detail === void 0) { detail = {}; }\n        var _a = this, identifier = _a.identifier, controller = _a.controller, element = _a.element;\n        detail = Object.assign({ identifier: identifier, controller: controller, element: element }, detail);\n        this.application.handleError(error, \"Error \" + message, detail);\n    };\n    return Context;\n}());\nexport { Context };\n//# sourceMappingURL=context.js.map","export function readInheritableStaticArrayValues(constructor, propertyName) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return Array.from(ancestors.reduce(function (values, constructor) {\n        getOwnStaticArrayValues(constructor, propertyName).forEach(function (name) { return values.add(name); });\n        return values;\n    }, new Set));\n}\nexport function readInheritableStaticObjectPairs(constructor, propertyName) {\n    var ancestors = getAncestorsForConstructor(constructor);\n    return ancestors.reduce(function (pairs, constructor) {\n        pairs.push.apply(pairs, getOwnStaticObjectPairs(constructor, propertyName));\n        return pairs;\n    }, []);\n}\nfunction getAncestorsForConstructor(constructor) {\n    var ancestors = [];\n    while (constructor) {\n        ancestors.push(constructor);\n        constructor = Object.getPrototypeOf(constructor);\n    }\n    return ancestors.reverse();\n}\nfunction getOwnStaticArrayValues(constructor, propertyName) {\n    var definition = constructor[propertyName];\n    return Array.isArray(definition) ? definition : [];\n}\nfunction getOwnStaticObjectPairs(constructor, propertyName) {\n    var definition = constructor[propertyName];\n    return definition ? Object.keys(definition).map(function (key) { return [key, definition[key]]; }) : [];\n}\n//# sourceMappingURL=inheritable_statics.js.map","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { readInheritableStaticArrayValues } from \"./inheritable_statics\";\n/** @hidden */\nexport function bless(constructor) {\n    return shadow(constructor, getBlessedProperties(constructor));\n}\nfunction shadow(constructor, properties) {\n    var shadowConstructor = extend(constructor);\n    var shadowProperties = getShadowProperties(constructor.prototype, properties);\n    Object.defineProperties(shadowConstructor.prototype, shadowProperties);\n    return shadowConstructor;\n}\nfunction getBlessedProperties(constructor) {\n    var blessings = readInheritableStaticArrayValues(constructor, \"blessings\");\n    return blessings.reduce(function (blessedProperties, blessing) {\n        var properties = blessing(constructor);\n        for (var key in properties) {\n            var descriptor = blessedProperties[key] || {};\n            blessedProperties[key] = Object.assign(descriptor, properties[key]);\n        }\n        return blessedProperties;\n    }, {});\n}\nfunction getShadowProperties(prototype, properties) {\n    return getOwnKeys(properties).reduce(function (shadowProperties, key) {\n        var _a;\n        var descriptor = getShadowedDescriptor(prototype, properties, key);\n        if (descriptor) {\n            Object.assign(shadowProperties, (_a = {}, _a[key] = descriptor, _a));\n        }\n        return shadowProperties;\n    }, {});\n}\nfunction getShadowedDescriptor(prototype, properties, key) {\n    var shadowingDescriptor = Object.getOwnPropertyDescriptor(prototype, key);\n    var shadowedByValue = shadowingDescriptor && \"value\" in shadowingDescriptor;\n    if (!shadowedByValue) {\n        var descriptor = Object.getOwnPropertyDescriptor(properties, key).value;\n        if (shadowingDescriptor) {\n            descriptor.get = shadowingDescriptor.get || descriptor.get;\n            descriptor.set = shadowingDescriptor.set || descriptor.set;\n        }\n        return descriptor;\n    }\n}\nvar getOwnKeys = (function () {\n    if (typeof Object.getOwnPropertySymbols == \"function\") {\n        return function (object) { return __spreadArrays(Object.getOwnPropertyNames(object), Object.getOwnPropertySymbols(object)); };\n    }\n    else {\n        return Object.getOwnPropertyNames;\n    }\n})();\nvar extend = (function () {\n    function extendWithReflect(constructor) {\n        function extended() {\n            var _newTarget = this && this instanceof extended ? this.constructor : void 0;\n            return Reflect.construct(constructor, arguments, _newTarget);\n        }\n        extended.prototype = Object.create(constructor.prototype, {\n            constructor: { value: extended }\n        });\n        Reflect.setPrototypeOf(extended, constructor);\n        return extended;\n    }\n    function testReflectExtension() {\n        var a = function () { this.a.call(this); };\n        var b = extendWithReflect(a);\n        b.prototype.a = function () { };\n        return new b;\n    }\n    try {\n        testReflectExtension();\n        return extendWithReflect;\n    }\n    catch (error) {\n        return function (constructor) { return /** @class */ (function (_super) {\n            __extends(extended, _super);\n            function extended() {\n                return _super !== null && _super.apply(this, arguments) || this;\n            }\n            return extended;\n        }(constructor)); };\n    }\n})();\n//# sourceMappingURL=blessing.js.map","import { Context } from \"./context\";\nimport { blessDefinition } from \"./definition\";\nvar Module = /** @class */ (function () {\n    function Module(application, definition) {\n        this.application = application;\n        this.definition = blessDefinition(definition);\n        this.contextsByScope = new WeakMap;\n        this.connectedContexts = new Set;\n    }\n    Object.defineProperty(Module.prototype, \"identifier\", {\n        get: function () {\n            return this.definition.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"controllerConstructor\", {\n        get: function () {\n            return this.definition.controllerConstructor;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Module.prototype, \"contexts\", {\n        get: function () {\n            return Array.from(this.connectedContexts);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Module.prototype.connectContextForScope = function (scope) {\n        var context = this.fetchContextForScope(scope);\n        this.connectedContexts.add(context);\n        context.connect();\n    };\n    Module.prototype.disconnectContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (context) {\n            this.connectedContexts.delete(context);\n            context.disconnect();\n        }\n    };\n    Module.prototype.fetchContextForScope = function (scope) {\n        var context = this.contextsByScope.get(scope);\n        if (!context) {\n            context = new Context(this, scope);\n            this.contextsByScope.set(scope, context);\n        }\n        return context;\n    };\n    return Module;\n}());\nexport { Module };\n//# sourceMappingURL=module.js.map","import { bless } from \"./blessing\";\n/** @hidden */\nexport function blessDefinition(definition) {\n    return {\n        identifier: definition.identifier,\n        controllerConstructor: bless(definition.controllerConstructor)\n    };\n}\n//# sourceMappingURL=definition.js.map","var ClassMap = /** @class */ (function () {\n    function ClassMap(scope) {\n        this.scope = scope;\n    }\n    ClassMap.prototype.has = function (name) {\n        return this.data.has(this.getDataKey(name));\n    };\n    ClassMap.prototype.get = function (name) {\n        return this.data.get(this.getDataKey(name));\n    };\n    ClassMap.prototype.getAttributeName = function (name) {\n        return this.data.getAttributeNameForKey(this.getDataKey(name));\n    };\n    ClassMap.prototype.getDataKey = function (name) {\n        return name + \"-class\";\n    };\n    Object.defineProperty(ClassMap.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return ClassMap;\n}());\nexport { ClassMap };\n//# sourceMappingURL=class_map.js.map","export function camelize(value) {\n    return value.replace(/(?:[_-])([a-z0-9])/g, function (_, char) { return char.toUpperCase(); });\n}\nexport function capitalize(value) {\n    return value.charAt(0).toUpperCase() + value.slice(1);\n}\nexport function dasherize(value) {\n    return value.replace(/([A-Z])/g, function (_, char) { return \"-\" + char.toLowerCase(); });\n}\n//# sourceMappingURL=string_helpers.js.map","import { dasherize } from \"./string_helpers\";\nvar DataMap = /** @class */ (function () {\n    function DataMap(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(DataMap.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(DataMap.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    DataMap.prototype.get = function (key) {\n        var name = this.getAttributeNameForKey(key);\n        return this.element.getAttribute(name);\n    };\n    DataMap.prototype.set = function (key, value) {\n        var name = this.getAttributeNameForKey(key);\n        this.element.setAttribute(name, value);\n        return this.get(key);\n    };\n    DataMap.prototype.has = function (key) {\n        var name = this.getAttributeNameForKey(key);\n        return this.element.hasAttribute(name);\n    };\n    DataMap.prototype.delete = function (key) {\n        if (this.has(key)) {\n            var name_1 = this.getAttributeNameForKey(key);\n            this.element.removeAttribute(name_1);\n            return true;\n        }\n        else {\n            return false;\n        }\n    };\n    DataMap.prototype.getAttributeNameForKey = function (key) {\n        return \"data-\" + this.identifier + \"-\" + dasherize(key);\n    };\n    return DataMap;\n}());\nexport { DataMap };\n//# sourceMappingURL=data_map.js.map","var Guide = /** @class */ (function () {\n    function Guide(logger) {\n        this.warnedKeysByObject = new WeakMap;\n        this.logger = logger;\n    }\n    Guide.prototype.warn = function (object, key, message) {\n        var warnedKeys = this.warnedKeysByObject.get(object);\n        if (!warnedKeys) {\n            warnedKeys = new Set;\n            this.warnedKeysByObject.set(object, warnedKeys);\n        }\n        if (!warnedKeys.has(key)) {\n            warnedKeys.add(key);\n            this.logger.warn(message, object);\n        }\n    };\n    return Guide;\n}());\nexport { Guide };\n//# sourceMappingURL=guide.js.map","/** @hidden */\nexport function attributeValueContainsToken(attributeName, token) {\n    return \"[\" + attributeName + \"~=\\\"\" + token + \"\\\"]\";\n}\n//# sourceMappingURL=selectors.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { attributeValueContainsToken } from \"./selectors\";\nvar TargetSet = /** @class */ (function () {\n    function TargetSet(scope) {\n        this.scope = scope;\n    }\n    Object.defineProperty(TargetSet.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(TargetSet.prototype, \"schema\", {\n        get: function () {\n            return this.scope.schema;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    TargetSet.prototype.has = function (targetName) {\n        return this.find(targetName) != null;\n    };\n    TargetSet.prototype.find = function () {\n        var _this = this;\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        return targetNames.reduce(function (target, targetName) {\n            return target\n                || _this.findTarget(targetName)\n                || _this.findLegacyTarget(targetName);\n        }, undefined);\n    };\n    TargetSet.prototype.findAll = function () {\n        var _this = this;\n        var targetNames = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            targetNames[_i] = arguments[_i];\n        }\n        return targetNames.reduce(function (targets, targetName) { return __spreadArrays(targets, _this.findAllTargets(targetName), _this.findAllLegacyTargets(targetName)); }, []);\n    };\n    TargetSet.prototype.findTarget = function (targetName) {\n        var selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findElement(selector);\n    };\n    TargetSet.prototype.findAllTargets = function (targetName) {\n        var selector = this.getSelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector);\n    };\n    TargetSet.prototype.getSelectorForTargetName = function (targetName) {\n        var attributeName = \"data-\" + this.identifier + \"-target\";\n        return attributeValueContainsToken(attributeName, targetName);\n    };\n    TargetSet.prototype.findLegacyTarget = function (targetName) {\n        var selector = this.getLegacySelectorForTargetName(targetName);\n        return this.deprecate(this.scope.findElement(selector), targetName);\n    };\n    TargetSet.prototype.findAllLegacyTargets = function (targetName) {\n        var _this = this;\n        var selector = this.getLegacySelectorForTargetName(targetName);\n        return this.scope.findAllElements(selector).map(function (element) { return _this.deprecate(element, targetName); });\n    };\n    TargetSet.prototype.getLegacySelectorForTargetName = function (targetName) {\n        var targetDescriptor = this.identifier + \".\" + targetName;\n        return attributeValueContainsToken(this.schema.targetAttribute, targetDescriptor);\n    };\n    TargetSet.prototype.deprecate = function (element, targetName) {\n        if (element) {\n            var identifier = this.identifier;\n            var attributeName = this.schema.targetAttribute;\n            this.guide.warn(element, \"target:\" + targetName, \"Please replace \" + attributeName + \"=\\\"\" + identifier + \".\" + targetName + \"\\\" with data-\" + identifier + \"-target=\\\"\" + targetName + \"\\\". \" +\n                (\"The \" + attributeName + \" attribute is deprecated and will be removed in a future version of Stimulus.\"));\n        }\n        return element;\n    };\n    Object.defineProperty(TargetSet.prototype, \"guide\", {\n        get: function () {\n            return this.scope.guide;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return TargetSet;\n}());\nexport { TargetSet };\n//# sourceMappingURL=target_set.js.map","var __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { ClassMap } from \"./class_map\";\nimport { DataMap } from \"./data_map\";\nimport { Guide } from \"./guide\";\nimport { attributeValueContainsToken } from \"./selectors\";\nimport { TargetSet } from \"./target_set\";\nvar Scope = /** @class */ (function () {\n    function Scope(schema, element, identifier, logger) {\n        var _this = this;\n        this.targets = new TargetSet(this);\n        this.classes = new ClassMap(this);\n        this.data = new DataMap(this);\n        this.containsElement = function (element) {\n            return element.closest(_this.controllerSelector) === _this.element;\n        };\n        this.schema = schema;\n        this.element = element;\n        this.identifier = identifier;\n        this.guide = new Guide(logger);\n    }\n    Scope.prototype.findElement = function (selector) {\n        return this.element.matches(selector)\n            ? this.element\n            : this.queryElements(selector).find(this.containsElement);\n    };\n    Scope.prototype.findAllElements = function (selector) {\n        return __spreadArrays(this.element.matches(selector) ? [this.element] : [], this.queryElements(selector).filter(this.containsElement));\n    };\n    Scope.prototype.queryElements = function (selector) {\n        return Array.from(this.element.querySelectorAll(selector));\n    };\n    Object.defineProperty(Scope.prototype, \"controllerSelector\", {\n        get: function () {\n            return attributeValueContainsToken(this.schema.controllerAttribute, this.identifier);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return Scope;\n}());\nexport { Scope };\n//# sourceMappingURL=scope.js.map","import { ValueListObserver } from \"@stimulus/mutation-observers\";\nvar ScopeObserver = /** @class */ (function () {\n    function ScopeObserver(element, schema, delegate) {\n        this.element = element;\n        this.schema = schema;\n        this.delegate = delegate;\n        this.valueListObserver = new ValueListObserver(this.element, this.controllerAttribute, this);\n        this.scopesByIdentifierByElement = new WeakMap;\n        this.scopeReferenceCounts = new WeakMap;\n    }\n    ScopeObserver.prototype.start = function () {\n        this.valueListObserver.start();\n    };\n    ScopeObserver.prototype.stop = function () {\n        this.valueListObserver.stop();\n    };\n    Object.defineProperty(ScopeObserver.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // Value observer delegate\n    /** @hidden */\n    ScopeObserver.prototype.parseValueForToken = function (token) {\n        var element = token.element, identifier = token.content;\n        var scopesByIdentifier = this.fetchScopesByIdentifierForElement(element);\n        var scope = scopesByIdentifier.get(identifier);\n        if (!scope) {\n            scope = this.delegate.createScopeForElementAndIdentifier(element, identifier);\n            scopesByIdentifier.set(identifier, scope);\n        }\n        return scope;\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementMatchedValue = function (element, value) {\n        var referenceCount = (this.scopeReferenceCounts.get(value) || 0) + 1;\n        this.scopeReferenceCounts.set(value, referenceCount);\n        if (referenceCount == 1) {\n            this.delegate.scopeConnected(value);\n        }\n    };\n    /** @hidden */\n    ScopeObserver.prototype.elementUnmatchedValue = function (element, value) {\n        var referenceCount = this.scopeReferenceCounts.get(value);\n        if (referenceCount) {\n            this.scopeReferenceCounts.set(value, referenceCount - 1);\n            if (referenceCount == 1) {\n                this.delegate.scopeDisconnected(value);\n            }\n        }\n    };\n    ScopeObserver.prototype.fetchScopesByIdentifierForElement = function (element) {\n        var scopesByIdentifier = this.scopesByIdentifierByElement.get(element);\n        if (!scopesByIdentifier) {\n            scopesByIdentifier = new Map;\n            this.scopesByIdentifierByElement.set(element, scopesByIdentifier);\n        }\n        return scopesByIdentifier;\n    };\n    return ScopeObserver;\n}());\nexport { ScopeObserver };\n//# sourceMappingURL=scope_observer.js.map","import { Module } from \"./module\";\nimport { Multimap } from \"@stimulus/multimap\";\nimport { Scope } from \"./scope\";\nimport { ScopeObserver } from \"./scope_observer\";\nvar Router = /** @class */ (function () {\n    function Router(application) {\n        this.application = application;\n        this.scopeObserver = new ScopeObserver(this.element, this.schema, this);\n        this.scopesByIdentifier = new Multimap;\n        this.modulesByIdentifier = new Map;\n    }\n    Object.defineProperty(Router.prototype, \"element\", {\n        get: function () {\n            return this.application.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"schema\", {\n        get: function () {\n            return this.application.schema;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"logger\", {\n        get: function () {\n            return this.application.logger;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"controllerAttribute\", {\n        get: function () {\n            return this.schema.controllerAttribute;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"modules\", {\n        get: function () {\n            return Array.from(this.modulesByIdentifier.values());\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Router.prototype, \"contexts\", {\n        get: function () {\n            return this.modules.reduce(function (contexts, module) { return contexts.concat(module.contexts); }, []);\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Router.prototype.start = function () {\n        this.scopeObserver.start();\n    };\n    Router.prototype.stop = function () {\n        this.scopeObserver.stop();\n    };\n    Router.prototype.loadDefinition = function (definition) {\n        this.unloadIdentifier(definition.identifier);\n        var module = new Module(this.application, definition);\n        this.connectModule(module);\n    };\n    Router.prototype.unloadIdentifier = function (identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            this.disconnectModule(module);\n        }\n    };\n    Router.prototype.getContextForElementAndIdentifier = function (element, identifier) {\n        var module = this.modulesByIdentifier.get(identifier);\n        if (module) {\n            return module.contexts.find(function (context) { return context.element == element; });\n        }\n    };\n    // Error handler delegate\n    /** @hidden */\n    Router.prototype.handleError = function (error, message, detail) {\n        this.application.handleError(error, message, detail);\n    };\n    // Scope observer delegate\n    /** @hidden */\n    Router.prototype.createScopeForElementAndIdentifier = function (element, identifier) {\n        return new Scope(this.schema, element, identifier, this.logger);\n    };\n    /** @hidden */\n    Router.prototype.scopeConnected = function (scope) {\n        this.scopesByIdentifier.add(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.connectContextForScope(scope);\n        }\n    };\n    /** @hidden */\n    Router.prototype.scopeDisconnected = function (scope) {\n        this.scopesByIdentifier.delete(scope.identifier, scope);\n        var module = this.modulesByIdentifier.get(scope.identifier);\n        if (module) {\n            module.disconnectContextForScope(scope);\n        }\n    };\n    // Modules\n    Router.prototype.connectModule = function (module) {\n        this.modulesByIdentifier.set(module.identifier, module);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.connectContextForScope(scope); });\n    };\n    Router.prototype.disconnectModule = function (module) {\n        this.modulesByIdentifier.delete(module.identifier);\n        var scopes = this.scopesByIdentifier.getValuesForKey(module.identifier);\n        scopes.forEach(function (scope) { return module.disconnectContextForScope(scope); });\n    };\n    return Router;\n}());\nexport { Router };\n//# sourceMappingURL=router.js.map","export var defaultSchema = {\n    controllerAttribute: \"data-controller\",\n    actionAttribute: \"data-action\",\n    targetAttribute: \"data-target\"\n};\n//# sourceMappingURL=schema.js.map","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __spreadArrays = (this && this.__spreadArrays) || function () {\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n            r[k] = a[j];\n    return r;\n};\nimport { Dispatcher } from \"./dispatcher\";\nimport { Router } from \"./router\";\nimport { defaultSchema } from \"./schema\";\nvar Application = /** @class */ (function () {\n    function Application(element, schema) {\n        if (element === void 0) { element = document.documentElement; }\n        if (schema === void 0) { schema = defaultSchema; }\n        this.logger = console;\n        this.element = element;\n        this.schema = schema;\n        this.dispatcher = new Dispatcher(this);\n        this.router = new Router(this);\n    }\n    Application.start = function (element, schema) {\n        var application = new Application(element, schema);\n        application.start();\n        return application;\n    };\n    Application.prototype.start = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, domReady()];\n                    case 1:\n                        _a.sent();\n                        this.dispatcher.start();\n                        this.router.start();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Application.prototype.stop = function () {\n        this.dispatcher.stop();\n        this.router.stop();\n    };\n    Application.prototype.register = function (identifier, controllerConstructor) {\n        this.load({ identifier: identifier, controllerConstructor: controllerConstructor });\n    };\n    Application.prototype.load = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var definitions = Array.isArray(head) ? head : __spreadArrays([head], rest);\n        definitions.forEach(function (definition) { return _this.router.loadDefinition(definition); });\n    };\n    Application.prototype.unload = function (head) {\n        var _this = this;\n        var rest = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            rest[_i - 1] = arguments[_i];\n        }\n        var identifiers = Array.isArray(head) ? head : __spreadArrays([head], rest);\n        identifiers.forEach(function (identifier) { return _this.router.unloadIdentifier(identifier); });\n    };\n    Object.defineProperty(Application.prototype, \"controllers\", {\n        // Controllers\n        get: function () {\n            return this.router.contexts.map(function (context) { return context.controller; });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Application.prototype.getControllerForElementAndIdentifier = function (element, identifier) {\n        var context = this.router.getContextForElementAndIdentifier(element, identifier);\n        return context ? context.controller : null;\n    };\n    // Error handling\n    Application.prototype.handleError = function (error, message, detail) {\n        this.logger.error(\"%s\\n\\n%o\\n\\n%o\", message, error, detail);\n    };\n    return Application;\n}());\nexport { Application };\nfunction domReady() {\n    return new Promise(function (resolve) {\n        if (document.readyState == \"loading\") {\n            document.addEventListener(\"DOMContentLoaded\", resolve);\n        }\n        else {\n            resolve();\n        }\n    });\n}\n//# sourceMappingURL=application.js.map","import { readInheritableStaticArrayValues } from \"./inheritable_statics\";\nimport { capitalize } from \"./string_helpers\";\n/** @hidden */\nexport function ClassPropertiesBlessing(constructor) {\n    var classes = readInheritableStaticArrayValues(constructor, \"classes\");\n    return classes.reduce(function (properties, classDefinition) {\n        return Object.assign(properties, propertiesForClassDefinition(classDefinition));\n    }, {});\n}\nfunction propertiesForClassDefinition(key) {\n    var _a;\n    var name = key + \"Class\";\n    return _a = {},\n        _a[name] = {\n            get: function () {\n                var classes = this.classes;\n                if (classes.has(key)) {\n                    return classes.get(key);\n                }\n                else {\n                    var attribute = classes.getAttributeName(key);\n                    throw new Error(\"Missing attribute \\\"\" + attribute + \"\\\"\");\n                }\n            }\n        },\n        _a[\"has\" + capitalize(name)] = {\n            get: function () {\n                return this.classes.has(key);\n            }\n        },\n        _a;\n}\n//# sourceMappingURL=class_properties.js.map","import { readInheritableStaticArrayValues } from \"./inheritable_statics\";\nimport { capitalize } from \"./string_helpers\";\n/** @hidden */\nexport function TargetPropertiesBlessing(constructor) {\n    var targets = readInheritableStaticArrayValues(constructor, \"targets\");\n    return targets.reduce(function (properties, targetDefinition) {\n        return Object.assign(properties, propertiesForTargetDefinition(targetDefinition));\n    }, {});\n}\nfunction propertiesForTargetDefinition(name) {\n    var _a;\n    return _a = {},\n        _a[name + \"Target\"] = {\n            get: function () {\n                var target = this.targets.find(name);\n                if (target) {\n                    return target;\n                }\n                else {\n                    throw new Error(\"Missing target element \\\"\" + this.identifier + \".\" + name + \"\\\"\");\n                }\n            }\n        },\n        _a[name + \"Targets\"] = {\n            get: function () {\n                return this.targets.findAll(name);\n            }\n        },\n        _a[\"has\" + capitalize(name) + \"Target\"] = {\n            get: function () {\n                return this.targets.has(name);\n            }\n        },\n        _a;\n}\n//# sourceMappingURL=target_properties.js.map","import { readInheritableStaticObjectPairs } from \"./inheritable_statics\";\nimport { camelize, capitalize, dasherize } from \"./string_helpers\";\n/** @hidden */\nexport function ValuePropertiesBlessing(constructor) {\n    var valueDefinitionPairs = readInheritableStaticObjectPairs(constructor, \"values\");\n    var propertyDescriptorMap = {\n        valueDescriptorMap: {\n            get: function () {\n                var _this = this;\n                return valueDefinitionPairs.reduce(function (result, valueDefinitionPair) {\n                    var _a;\n                    var valueDescriptor = parseValueDefinitionPair(valueDefinitionPair);\n                    var attributeName = _this.data.getAttributeNameForKey(valueDescriptor.key);\n                    return Object.assign(result, (_a = {}, _a[attributeName] = valueDescriptor, _a));\n                }, {});\n            }\n        }\n    };\n    return valueDefinitionPairs.reduce(function (properties, valueDefinitionPair) {\n        return Object.assign(properties, propertiesForValueDefinitionPair(valueDefinitionPair));\n    }, propertyDescriptorMap);\n}\n/** @hidden */\nexport function propertiesForValueDefinitionPair(valueDefinitionPair) {\n    var _a;\n    var definition = parseValueDefinitionPair(valueDefinitionPair);\n    var type = definition.type, key = definition.key, name = definition.name;\n    var read = readers[type], write = writers[type] || writers.default;\n    return _a = {},\n        _a[name] = {\n            get: function () {\n                var value = this.data.get(key);\n                if (value !== null) {\n                    return read(value);\n                }\n                else {\n                    return definition.defaultValue;\n                }\n            },\n            set: function (value) {\n                if (value === undefined) {\n                    this.data.delete(key);\n                }\n                else {\n                    this.data.set(key, write(value));\n                }\n            }\n        },\n        _a[\"has\" + capitalize(name)] = {\n            get: function () {\n                return this.data.has(key);\n            }\n        },\n        _a;\n}\nfunction parseValueDefinitionPair(_a) {\n    var token = _a[0], typeConstant = _a[1];\n    var type = parseValueTypeConstant(typeConstant);\n    return valueDescriptorForTokenAndType(token, type);\n}\nfunction parseValueTypeConstant(typeConstant) {\n    switch (typeConstant) {\n        case Array: return \"array\";\n        case Boolean: return \"boolean\";\n        case Number: return \"number\";\n        case Object: return \"object\";\n        case String: return \"string\";\n    }\n    throw new Error(\"Unknown value type constant \\\"\" + typeConstant + \"\\\"\");\n}\nfunction valueDescriptorForTokenAndType(token, type) {\n    var key = dasherize(token) + \"-value\";\n    return {\n        type: type,\n        key: key,\n        name: camelize(key),\n        get defaultValue() { return defaultValuesByType[type]; }\n    };\n}\nvar defaultValuesByType = {\n    get array() { return []; },\n    boolean: false,\n    number: 0,\n    get object() { return {}; },\n    string: \"\"\n};\nvar readers = {\n    array: function (value) {\n        var array = JSON.parse(value);\n        if (!Array.isArray(array)) {\n            throw new TypeError(\"Expected array\");\n        }\n        return array;\n    },\n    boolean: function (value) {\n        return !(value == \"0\" || value == \"false\");\n    },\n    number: function (value) {\n        return parseFloat(value);\n    },\n    object: function (value) {\n        var object = JSON.parse(value);\n        if (object === null || typeof object != \"object\" || Array.isArray(object)) {\n            throw new TypeError(\"Expected object\");\n        }\n        return object;\n    },\n    string: function (value) {\n        return value;\n    }\n};\nvar writers = {\n    default: writeString,\n    array: writeJSON,\n    object: writeJSON\n};\nfunction writeJSON(value) {\n    return JSON.stringify(value);\n}\nfunction writeString(value) {\n    return \"\" + value;\n}\n//# sourceMappingURL=value_properties.js.map","import { ClassPropertiesBlessing } from \"./class_properties\";\nimport { TargetPropertiesBlessing } from \"./target_properties\";\nimport { ValuePropertiesBlessing } from \"./value_properties\";\nvar Controller = /** @class */ (function () {\n    function Controller(context) {\n        this.context = context;\n    }\n    Object.defineProperty(Controller.prototype, \"application\", {\n        get: function () {\n            return this.context.application;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"scope\", {\n        get: function () {\n            return this.context.scope;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"element\", {\n        get: function () {\n            return this.scope.element;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"identifier\", {\n        get: function () {\n            return this.scope.identifier;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"targets\", {\n        get: function () {\n            return this.scope.targets;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"classes\", {\n        get: function () {\n            return this.scope.classes;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Controller.prototype, \"data\", {\n        get: function () {\n            return this.scope.data;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Controller.prototype.initialize = function () {\n        // Override in your subclass to set up initial controller state\n    };\n    Controller.prototype.connect = function () {\n        // Override in your subclass to respond when the controller is connected to the DOM\n    };\n    Controller.prototype.disconnect = function () {\n        // Override in your subclass to respond when the controller is disconnected from the DOM\n    };\n    Controller.blessings = [ClassPropertiesBlessing, TargetPropertiesBlessing, ValuePropertiesBlessing];\n    Controller.targets = [];\n    Controller.values = {};\n    return Controller;\n}());\nexport { Controller };\n//# sourceMappingURL=controller.js.map","import SnippetController from \"./snippet-controller\"\nimport {load_game_versions, GameVersion, LoaderVersion} from \"../meta\"\n\n// Base class for controllers that allow selecting a game version, pulling data from meta,\n// and then replacing snippets on the page.\nexport default class VersionController extends SnippetController {\n    static targets = [ \"loader\", \"minecraft\", \"button\" ]\n    declare readonly loaderTarget: HTMLSelectElement\n    declare readonly minecraftTarget: HTMLSelectElement\n    declare readonly buttonTarget: HTMLAnchorElement\n\n    get_all_tags(): string[] {\n        return [\"minecraft_version\", \"yarn_version\", \"loader_version\", \"api_version\", \"maven\"]\n    }\n\n    gameVersions: GameVersion[] = []\n\n    connect() {\n        super.connect()\n\n        this.populateMinecraftVersions()\n    }\n\n    async populateMinecraftVersions() {\n        const vsns = await load_game_versions()\n        this.gameVersions = vsns\n        const select = this.minecraftTarget\n        select.innerHTML = \"\"\n\n        let sel = -1\n        let idx = 0\n        for (const v of vsns) {\n            const opt = document.createElement(\"option\")\n            opt.value = v.name\n            opt.textContent = v.name\n            select.appendChild(opt)\n            if (sel === -1 && v.stable) {\n                sel = idx\n            }\n            idx++\n        }\n        select.selectedIndex = sel\n\n        await this.populateLoaderVersions()\n        this.minecraftTarget.removeAttribute(\"disabled\")\n    }\n\n    async populateLoaderVersions() {\n        this.loaderTarget.setAttribute(\"disabled\", \"\")\n        this.buttonTarget.setAttribute(\"disabled\", \"\")\n        this.buttonTarget.removeAttribute(\"download\")\n        this.buttonTarget.classList.add(\"is-disabled\")\n        this.buttonTarget.classList.remove(\"is-primary\")\n\n        const mcSel = this.minecraftTarget\n        const mcVer = this.gameVersions[mcSel.selectedIndex]\n\n        const vsns = await mcVer.get_loader_versions()\n\n        const select = this.loaderTarget\n        select.innerHTML = \"\"\n\n        for (const v of vsns) {\n            const opt = document.createElement(\"option\")\n            opt.value = v.version\n            opt.textContent = v.version\n            select.appendChild(opt)\n        }\n\n        select.selectedIndex = 0\n\n        this.loaderTarget.removeAttribute(\"disabled\")\n\n        await this.populateButton()\n    }\n\n    async populateButton() {\n        const mcVersion = this.minecraftTarget.selectedOptions[0]\n        const loaderVersion = this.loaderTarget.selectedOptions[0]\n\n        this.buttonTarget.href = `https://meta.quiltmc.org/v3/versions/loader/${mcVersion.text}/${loaderVersion.text}/profile/json`\n        this.buttonTarget.setAttribute(\"download\", \"version.json\")\n\n        this.buttonTarget.removeAttribute(\"disabled\")\n        this.buttonTarget.classList.remove(\"is-disabled\")\n        this.buttonTarget.classList.add(\"is-primary\")\n    }\n}\n\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n    static targets = [ \"menu\" ]\n\n    private menuTargets: HTMLElement[];\n\n    toggle () {\n        this.menuTargets.forEach((elem) => {\n            elem.classList.toggle(\"is-active\")\n        })\n    }\n}\n","import { Controller } from \"stimulus\"\n\nexport default class extends Controller {\n    static targets = [ \"sidebar\" ]\n    private sidebarTarget: HTMLElement;\n\n    toggle () {\n        this.sidebarTarget.classList.toggle(\"is-hidden-mobile\")\n\n        if (this.sidebarTarget.dataset[\"scroll-to-top\"] === \"true\") {\n            window.scroll(0, 0)\n        }\n    }\n}\n","import { Controller } from \"stimulus\"\n\nconst LOADANI_HTML = '<div class=\"lds-ellipsis\"><div></div><div></div><div></div><div></div></div>'\n\n// Base \"snippet\" controller used for controllers that read metadata and update\n// some strings on a page.\n//\n// A \"snippet\" is a part of the page containing `{tag_name}` tags, which can be\n// filled in by calling the `set_snippets` or `set_all` functions.\nexport default abstract class SnippetController extends Controller {\n    static targets = [ \"snippet\" ]\n    declare readonly snippetTargets: SnippetElem[]\n\n    // Override in subclass. Should return a list of all tags supported by this\n    // controller.\n    abstract get_all_tags(): string[]\n\n    // Sets up the snippet controller. This must be called if you override\n    // `connect`.\n    connect() {\n        for (const snip of this.snippetTargets) {\n            snip.originalHTML = snip.innerHTML\n        }\n    }\n\n    // Replaces the entire content of all snippet elements with some HTML.\n    replace_content(content: string) {\n        for (const snip of this.snippetTargets) {\n            const width = snip.offsetWidth\n            const height = snip.offsetHeight\n            snip.innerHTML = `<div class=\"loading-container\"\n            style=\"width: ${width}px; height: ${height}px;\">${content}</div>`\n        }\n    }\n\n    // Replaces all snippet elements with a loading animation.\n    set_loading() {\n        this.replace_content(LOADANI_HTML)\n    }\n\n    // Replaces all snippet elements with an error message.\n    set_error(msg: string) {\n        this.replace_content(msg)\n    }\n\n    // Replaces all tags with the given text.\n    set_all(str: string) {\n        for (const snip of this.snippetTargets) {\n            let html = snip.originalHTML\n            for (const key of this.get_all_tags()) {\n                html = replace_tags(html, key, str)\n            }\n            snip.innerHTML = html\n        }\n    }\n\n    // Updates the tags corresponding to each key in `strs` with the string\n    // associated with that key.\n    set_snippets(strs: {[key: string]: string}) {\n        for (const snip of this.snippetTargets) {\n            let html = snip.originalHTML\n            for (const key of Object.keys(strs)) {\n                html = replace_tags(html, key, strs[key] as string)\n            }\n            snip.innerHTML = html\n        }\n    }\n\n    // Checks if the given tag name is actually present in any snippet element.\n    has_tag(tag: string): boolean {\n        for (const snip of this.snippetTargets) {\n            if (snip.originalHTML.includes(`{${tag}}`)) {\n                return true\n            }\n        }\n        return false\n    }\n}\n\ninterface SnippetElem extends Element {\n    originalHTML: string\n    offsetWidth: number\n    offsetHeight: number\n}\n\nfunction replace_tags(str: string, tag: string, content: string): string {\n    return str.replace(new RegExp(`{${tag}}`, 'g'), content)\n}\n\n","import SnippetController from \"./snippet-controller\"\nimport { load_game_versions, GameVersion } from \"../meta\"\n\n// Base class for controllers that allow selecting a game version, pulling data from meta,\n// and then replacing snippets on the page.\nexport default class VersionController extends SnippetController {\n    static targets = [ \"mcLabel\", \"mcSelect\", \"loaderSelect\" ]\n    declare readonly mcLabelTarget: Element\n    declare readonly mcSelectTarget: HTMLSelectElement\n    declare readonly loaderSelectTarget: HTMLSelectElement\n\n    get_all_tags(): string[] {\n        return [\"minecraft_version\", \"yarn_version\", \"loader_version\", \"api_version\", \"maven\"]\n    }\n\n    gameVersions: GameVersion[] = []\n\n    connect() {\n        super.connect()\n        this.set_loading()\n        this.populate_versions()\n    }\n\n    async selected_mc_version() {\n        this.set_loading()\n        const sel = this.mcSelectTarget\n        const vsn = this.gameVersions[sel.selectedIndex]\n\n        if (this.mcLabelTarget) {\n            this.mcLabelTarget.textContent = vsn.name\n        }\n\n        const needYarn = this.has_tag(\"yarn_version\") || this.has_tag(\"yarn_version_urlenc\")\n\n        let vdata\n        try {\n            vdata = await vsn.get_data(needYarn)\n        } catch (e) {\n            this.set_error(e.message)\n            throw e\n        }\n        this.set_snippets(vdata)\n    }\n\n    async populate_versions() {\n        const vsns = await load_game_versions()\n        this.gameVersions = vsns\n        const select = this.mcSelectTarget\n        select.innerHTML = \"\"\n\n        let sel = -1\n        let idx = 0\n        for (const v of vsns) {\n            const opt = document.createElement(\"option\")\n            opt.value = v.name\n            opt.textContent = v.name\n            select.appendChild(opt)\n            if (sel === -1 && v.stable) {\n                sel = idx\n            }\n            idx++\n        }\n        select.selectedIndex = sel\n        this.selected_mc_version()\n    }\n}\n\n","// This implements classes for accessing the Quilt meta API.\n\nconst META_URL_BASE = \"https://meta.quiltmc.org/v3/\"\nconst META_GAME_VSNS = META_URL_BASE + \"versions/game\"\nconst META_LOADER = META_URL_BASE + \"versions/loader/\"\nconst META_YARN = META_URL_BASE + \"versions/yarn/\"\n\nexport async function load_game_versions(): Promise<GameVersion[]> {\n    const response = await fetch(META_GAME_VSNS)\n    const data = await response.json()\n\n    const vsns: GameVersion[] = []\n\n    for (const v of data) {\n        vsns.push(new GameVersion(v.version, v.stable, vsns))\n    }\n\n    return vsns\n}\n\n// Class for deferred loading of game version data\nexport class GameVersion {\n    readonly name: string\n    readonly stable: boolean\n    versionData: VersionData = null\n    loaderVsns: LoaderVersion[]\n    vsnList: GameVersion[]\n\n    constructor(name: string, stable: boolean, vlist: GameVersion[]) {\n        this.name = name\n        this.stable = stable\n        this.vsnList = vlist\n    }\n\n    // This does lazy loading of the data for this game version. Will load once\n    // from the meta server and then cache for subsequent calls.\n    async get_data(needYarn = false): Promise<VersionData> {\n        if (this.versionData != null) {\n            return this.versionData\n        } else {\n            await this.load_data(needYarn)\n\n            return this.versionData\n        }\n    }\n\n    // Lazy loading of loader versions compatible with this game version.\n    async get_loader_versions(): Promise<LoaderVersion[]> {\n        if (this.loaderVsns != null) { return this.loaderVsns; }\n\n        const result = await fetch(META_LOADER + this.name)\n        const loaders = await result.json()\n\n        const list = []\n\n        for (let data of loaders) {\n            data = data.loader\n\n            list.push(new LoaderVersion(data.version, data.build, data.maven))\n        }\n\n        this.loaderVsns = list\n\n        return this.loaderVsns\n    }\n\n    // Does the actual loading of data from the server.\n    async load_data(needYarn = false): Promise<void> {\n        let yarn\n\n        if (needYarn) {\n            const result = await fetch(META_YARN + this.name)\n\n            if (result.status === 404) { throw Error(\"No yarn for this version.\") }\n\n            const yarnJson = await result.json()\n\n            if (yarnJson.length < 1) { throw Error(\"No yarn for this version.\") }\n\n            yarn = yarnJson[0]\n        } else {\n            yarn = { version: \"No yarn for this version.\" }\n        }\n\n        const loaderResult = await this.get_loader_versions()\n        const loader = loaderResult[0]\n\n        let mavenStr = \"net.fabricmc:fabric:\"\n\n        for (const vi of this.vsnList) {\n            if (vi.name === \"1.14\") {\n                mavenStr = \"net.fabricmc.fabric-api:fabric-api:\"\n                break\n            } else if (vi.name === this.name) {\n                break\n            }\n        }\n\n        this.versionData = {\n            minecraft_version: `${this.name}`,\n            yarn_version: yarn.version,\n            yarn_version_urlenc: encodeURIComponent(yarn.version),\n            loader_version: loader.version,\n            loader_version_urlenc: encodeURIComponent(loader.version),\n\n            // TODO: Load API version\n            api_version: `&ltapi version todo&gt;`,\n            maven: mavenStr,\n        } as VersionData\n    }\n}\n\nexport class LoaderVersion {\n    readonly version: string\n    readonly build: string\n    readonly maven: string\n\n    constructor(version: string, build: string, maven: string) {\n        this.version = version\n        this.build = build\n        this.maven = maven\n    }\n}\n\n// JSON object that can be passed directly to the snippet controller to replace parts of the page.\nexport type VersionData = {\n    minecraft_version: string\n    yarn_version: string\n    loader_version: string\n    api_version: string\n    maven: string\n}\n\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","const INSTALLER_URL_BASE = \"https://maven.quiltmc.org/repository/release/org/quiltmc/quilt-installer/\"\nconst MAVEN_METADATA_URL = INSTALLER_URL_BASE + \"maven-metadata.xml\"\n\nconst NATIVE_INSTALLER_URL_BASE = \"https://maven.quiltmc.org/repository/release/org/quiltmc/quilt-installer-native-bootstrap/\"\n\n// Get all possible installer versions from the Maven\nexport async function getInstallerVersions(): Promise<string []> {\n    return fetch(MAVEN_METADATA_URL)\n        .then(response => response.text())\n        .then(str => new DOMParser().parseFromString(str, \"application/xml\"))\n        .then(data => data.querySelectorAll(\"metadata > versioning > versions > version\"))\n        .then(versions => Array.from(versions).map(\n            item => item.textContent\n        ))\n}\n\n// Get the latest installer version from the Maven\nexport async function getLatestInstallerVersion(): Promise<string> {\n    return fetch(MAVEN_METADATA_URL)\n        .then(response => response.text())\n        .then(str => new DOMParser().parseFromString(str, \"application/xml\"))\n        .then(data => data.querySelector(\"metadata > versioning > latest\"))\n        .then(version => version.textContent)\n}\n\n// Given a specific version, platform and architecture, construct the corresponding direct download URL\nexport function getInstallerDownloadUrl(\n    version: string,\n    platform: PLATFORM,\n    arch: ARCH = ARCH.NONE\n): string {\n    if (platform === PLATFORM.JAR) {\n        return INSTALLER_URL_BASE + `${version}/quilt-installer-${version}.jar`\n    }\n\n    let ext: EXT\n\n    switch (platform) {\n        case PLATFORM.WINDOWS:\n            ext = EXT.WINDOWS\n            break\n\n        default:\n            throw Error(\"Platform not configured: \" + platform)\n    }\n\n    return NATIVE_INSTALLER_URL_BASE + `${platform}-${arch}/${version}/${platform}-${arch}-${version}.${ext}`\n}\n\nexport enum PLATFORM {\n    JAR = \"jar\",\n    WINDOWS = \"windows\",\n}\n\nexport enum ARCH {\n    NONE = \"\",\n    AARCH64 = \"aarch64\",\n    I686 = \"i686\",\n    X86_64 = \"x86_64\"\n}\n\nexport enum EXT {\n    JAR = \"jar\",\n    WINDOWS = \"exe\"\n}\n","export function showLanguages(event: Event = null) {\n    event?.preventDefault()\n\n    const modal = document.getElementById(\"language-modal\")\n\n    modal.classList.add(\"is-active\")\n}\n\nexport function hideLanguages(event: Event = null) {\n    event?.preventDefault()\n\n    const modal = document.getElementById(\"language-modal\")\n\n    modal.classList.remove(\"is-active\")\n}\n\nexport function setupLanguages() {\n    const button = document.getElementById(\"language-switcher\")\n    const modal = document.getElementById(\"language-modal\")\n    const background = document.getElementById(\"language-modal-background\")\n    const closeButton = document.getElementById(\"language-modal-close-button\")\n\n    button.onclick = showLanguages\n    background.onclick = hideLanguages\n    closeButton.onclick = hideLanguages\n}\n","export function checkTheme() {\n    const theme = window.localStorage.getItem(\"theme\")\n\n    if (theme === \"low-contrast\") {\n        document.getElementsByTagName(\"body\")[0].setAttribute(\"data-contrast\", \"low\")\n    } else {\n        document.getElementsByTagName(\"body\")[0].removeAttribute(\"data-contrast\")\n    }\n}\n\nexport function getTheme(): string | null {\n    return window.localStorage.getItem(\"theme\")\n}\n\nexport function setTheme(theme: string) {\n    window.localStorage.setItem(\"theme\", theme)\n}\n\nexport function toggleContrast() {\n    if (getTheme() === \"low-contrast\") {\n        setTheme(\"default\")\n    } else {\n        setTheme(\"low-contrast\")\n    }\n\n    checkTheme()\n}\n\nexport function setupThemeSwitcher() {\n    checkTheme()\n\n    const switcher = document.getElementById(\"theme-switcher\")\n\n    switcher.onclick = (event) => {\n        event.preventDefault()\n\n        toggleContrast()\n    }\n}\n","import { Application } from \"stimulus\"\nimport { definitionsFromContext } from \"stimulus/webpack-helpers\"\nimport { setupInstallPage } from \"./install-page\"\nimport { setupThemeSwitcher } from \"./theme\"\nimport { setupLanguages } from \"./languages\";\n\nsetupLanguages()\nsetupThemeSwitcher()\n\nconst application = Application.start()\nconst context = require.context(\"./controllers\", true, /\\.(ts)$/)\n\napplication.load(definitionsFromContext(context))\n\n// @ts-ignore\nif (window.pageHasDownloads) {\n    setupInstallPage().then()\n}\n","export function definitionsFromContext(context) {\n    return context.keys()\n        .map(function (key) { return definitionForModuleWithContextAndKey(context, key); })\n        .filter(function (value) { return value; });\n}\nfunction definitionForModuleWithContextAndKey(context, key) {\n    var identifier = identifierForContextKey(key);\n    if (identifier) {\n        return definitionForModuleAndIdentifier(context(key), identifier);\n    }\n}\nfunction definitionForModuleAndIdentifier(module, identifier) {\n    var controllerConstructor = module.default;\n    if (typeof controllerConstructor == \"function\") {\n        return { identifier: identifier, controllerConstructor: controllerConstructor };\n    }\n}\nexport function identifierForContextKey(key) {\n    var logicalName = (key.match(/^(?:\\.\\/)?(.+)(?:[_-]controller\\..+?)$/) || [])[1];\n    if (logicalName) {\n        return logicalName.replace(/_/g, \"-\").replace(/\\//g, \"--\");\n    }\n}\n//# sourceMappingURL=index.js.map","import {ARCH, getInstallerDownloadUrl, getLatestInstallerVersion, PLATFORM} from \"./installer\";\n\n// Set up the installation page. Sections commented as JS is no longer needed to fill them at the moment.\nexport async function setupInstallPage() {\n    const version = await getLatestInstallerVersion()\n\n    // const universalUrl = getInstallerDownloadUrl(version, PLATFORM.JAR)\n    // const windowsUrl = getInstallerDownloadUrl(version, PLATFORM.WINDOWS, ARCH.X86_64)\n\n    const versionElement = document.getElementById(\"launcher-version\")\n\n    if (version !== null) {\n        versionElement.textContent = `v${version}`\n    }\n\n    // document.getElementById(\"universal-download\")?.setAttribute(\"href\", universalUrl)\n    // document.getElementById(\"windows-download\")?.setAttribute(\"href\", windowsUrl)\n}\n"],"names":["map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","e","Error","code","keys","Object","resolve","module","exports","EventListener","eventTarget","eventName","eventOptions","this","unorderedBindings","Set","prototype","connect","addEventListener","disconnect","removeEventListener","bindingConnected","binding","add","bindingDisconnected","delete","handleEvent","event","extendedEvent","stopImmediatePropagation_1","stopImmediatePropagation","assign","immediatePropagationStopped","call","extendEvent","_i","_a","bindings","length","defineProperty","get","Array","from","sort","left","right","leftIndex","index","rightIndex","enumerable","configurable","Dispatcher","application","eventListenerMaps","Map","started","start","eventListeners","forEach","eventListener","stop","values","reduce","listeners","concat","fetchEventListenerForBinding","handleError","error","message","detail","fetchEventListener","eventListenerMap","fetchEventListenerMapForEventTarget","cacheKey","createEventListener","set","parts","key","push","join","descriptorPattern","Action","element","descriptor","tagName","toLowerCase","defaultEventNames","getDefaultEventNameForElement","identifier","methodName","forToken","token","descriptorString","content","eventTargetName","matches","trim","match","window","document","split","options","replace","test","toString","eventNameSuffix","getAttribute","Binding","context","action","willBeInvokedByEvent","invokeWithEvent","method","controller","target","Element","contains","scope","containsElement","ElementObserver","delegate","_this","elements","mutationObserver","MutationObserver","mutations","processMutations","observe","attributes","childList","subtree","refresh","takeRecords","matchElementsInTree","has","removeElement","_b","_c","addElement","mutations_1","mutation","processMutation","type","processAttributeChange","attributeName","processRemovedNodes","removedNodes","processAddedNodes","addedNodes","node","elementAttributeChanged","matchElement","nodes","elementFromNode","processTree","elementIsActive","tree","processor","nodeType","Node","ELEMENT_NODE","isConnected","elementMatched","elementUnmatched","AttributeObserver","elementObserver","hasAttribute","querySelectorAll","selector","elementMatchedAttribute","elementUnmatchedAttribute","elementAttributeValueChanged","StringMapObserver","stringMap","knownAttributeNames","refreshAttribute","getStringMapKeyForAttribute","stringMapKeyAdded","value","stringMapValueChanged","stringMapKeyRemoved","currentAttributeNames","recordedAttributeNames","attribute","name","fetch","del","size","prune","extendStatics","Multimap","valuesByKey","hasKey","hasValue","some","getValuesForKey","getKeysForValue","filter","__extends","d","b","setPrototypeOf","__proto__","p","hasOwnProperty","__","constructor","create","TokenListObserver","_super","IndexedMultimap","keysByValue","attributeObserver","tokensByElement","tokensMatched","readTokensForElement","refreshTokensForElement","unmatchedTokens","matchedTokens","tokensUnmatched","tokens","tokenMatched","tokenUnmatched","previousTokens","currentTokens","firstDifferingIndex","Math","max","_","findIndex","tokensAreEqual","slice","tokenString","parseTokenString","ValueListObserver","tokenListObserver","parseResultsByToken","WeakMap","valuesByTokenByElement","fetchParseResultForToken","fetchValuesByTokenForElement","elementMatchedValue","elementUnmatchedValue","parseResult","parseToken","valuesByToken","parseValueForToken","BindingObserver","bindingsByAction","valueListObserver","actionAttribute","disconnectAllActions","schema","connectAction","disconnectAction","clear","ValueObserver","receiver","stringMapObserver","valueDescriptorMap","invokeChangedCallbacksForDefaultValues","attributeValue","invokeChangedCallbackForValue","valueDescriptors","name_1","undefined","defaultValue","data","Context","controllerConstructor","bindingObserver","dispatcher","valueObserver","initialize","parentElement","readInheritableStaticArrayValues","propertyName","ancestors","getAncestorsForConstructor","definition","isArray","getOwnStaticArrayValues","getPrototypeOf","reverse","getOwnKeys","getOwnPropertySymbols","object","s","i","il","arguments","r","k","a","j","jl","__spreadArrays","getOwnPropertyNames","extend","extendWithReflect","extended","_newTarget","Reflect","construct","apply","Module","properties","shadowConstructor","shadowProperties","shadowingDescriptor","getOwnPropertyDescriptor","getShadowedDescriptor","getShadowProperties","defineProperties","shadow","blessedProperties","blessing","getBlessedProperties","blessDefinition","contextsByScope","connectedContexts","connectContextForScope","fetchContextForScope","disconnectContextForScope","ClassMap","getDataKey","getAttributeName","getAttributeNameForKey","capitalize","charAt","toUpperCase","dasherize","char","DataMap","setAttribute","removeAttribute","Guide","logger","warnedKeysByObject","warn","warnedKeys","attributeValueContainsToken","TargetSet","targetName","find","targetNames","findTarget","findLegacyTarget","findAll","targets","findAllTargets","findAllLegacyTargets","getSelectorForTargetName","findElement","findAllElements","getLegacySelectorForTargetName","deprecate","targetDescriptor","targetAttribute","guide","Scope","classes","closest","controllerSelector","queryElements","controllerAttribute","ScopeObserver","scopesByIdentifierByElement","scopeReferenceCounts","scopesByIdentifier","fetchScopesByIdentifierForElement","createScopeForElementAndIdentifier","referenceCount","scopeConnected","scopeDisconnected","Router","scopeObserver","modulesByIdentifier","modules","contexts","loadDefinition","unloadIdentifier","connectModule","disconnectModule","getContextForElementAndIdentifier","defaultSchema","Application","documentElement","console","router","thisArg","_arguments","generator","body","f","y","t","g","label","sent","trys","ops","next","verb","Symbol","iterator","n","v","op","TypeError","done","pop","step","__generator","Promise","readyState","P","reject","fulfilled","rejected","result","then","register","load","head","rest","definitions","unload","identifiers","getControllerForElementAndIdentifier","ClassPropertiesBlessing","classDefinition","TargetPropertiesBlessing","targetDefinition","ValuePropertiesBlessing","valueDefinitionPairs","pairs","getOwnStaticObjectPairs","readInheritableStaticObjectPairs","propertyDescriptorMap","valueDefinitionPair","valueDescriptor","parseValueDefinitionPair","read","readers","write","writers","default","propertiesForValueDefinitionPair","defaultValuesByType","valueDescriptorForTokenAndType","typeConstant","Boolean","Number","String","parseValueTypeConstant","array","boolean","number","string","JSON","parse","parseFloat","writeJSON","stringify","Controller","blessings","gameVersions","get_all_tags","populateMinecraftVersions","vsns","select","minecraftTarget","innerHTML","sel","idx","opt","createElement","textContent","appendChild","stable","selectedIndex","populateLoaderVersions","loaderTarget","buttonTarget","classList","remove","mcSel","get_loader_versions","version","populateButton","mcVersion","selectedOptions","loaderVersion","href","text","toggle","menuTargets","elem","sidebarTarget","dataset","scroll","snippetTargets","snip","originalHTML","replace_content","width","offsetWidth","height","offsetHeight","set_loading","set_error","msg","set_all","str","html","replace_tags","set_snippets","strs","has_tag","tag","includes","RegExp","populate_versions","selected_mc_version","mcSelectTarget","vsn","mcLabelTarget","needYarn","get_data","vdata","load_game_versions","META_URL_BASE","json","GameVersion","vlist","versionData","vsnList","load_data","loaderVsns","loaders","list","loader","LoaderVersion","build","maven","status","yarnJson","yarn","loaderResult","mavenStr","vi","minecraft_version","yarn_version","yarn_version_urlenc","encodeURIComponent","loader_version","loader_version_urlenc","api_version","__webpack_module_cache__","moduleId","cachedModule","__webpack_modules__","obj","prop","toStringTag","PLATFORM","ARCH","EXT","getLatestInstallerVersion","INSTALLER_URL_BASE","response","DOMParser","parseFromString","querySelector","button","background","closeButton","checkTheme","localStorage","getItem","getElementsByTagName","setTheme","theme","setItem","hideLanguages","preventDefault","getElementById","onclick","logicalName","identifierForContextKey","definitionForModuleAndIdentifier","definitionForModuleWithContextAndKey","definitionsFromContext","pageHasDownloads","versionElement","setupInstallPage"],"sourceRoot":""}