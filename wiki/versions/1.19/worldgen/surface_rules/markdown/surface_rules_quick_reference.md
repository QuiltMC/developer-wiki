# Surface Rules Quick Reference

This is a listing of all the vanilla surface rules and associated classes, listed in all 3 of the major mapping sets, along with a quick description of them.

For a more in depth guide to how they work, check out [The Forsaken Furby's Gist on Surface Rules](https://github.com/TheForsakenFurby/Surface-Rules-Guide-Minecraft-JE-1.18/blob/main/Guide.md), or [The Minecraft Wiki](https://minecraft.fandom.com/wiki/Custom_world_generation/noise_settings)!

### Base Classes

These are the base classes involved in surface rules. If you want to create custom conditions or other rules, look into these classes.

|            MojMap            |               QM               |               Yarn                | Datapack Identifier (prepended with `minecraft:` | Description                                                                                                                                                                                                                                                                                                                                                  |
|:----------------------------:|:------------------------------:|:---------------------------------:|:------------------------------------------------:|--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
|         SurfaceRules         |          SurfaceRules          |           MaterialRules           |                        -                         | The class that holds all the methods and classes found below.                                                                                                                                                                                                                                                                                                |
|    SurfaceRules.Condition    |     SurfaceRules.Condition     |   MaterialRules.BooleanSupplier   |                        -                         | An interface that provides one method - `test`. This method takes in a `Context`, and outputs a boolean - it is used for deciding if a SurfaceRule should be applied.                                                                                                                                                                                        |
|     SurfaceRules.Context     |      SurfaceRules.Context      | MaterialRules.MaterialRuleContext |                        -                         | A class used to provide block coordinates and similar information to certain inheritors of `Condition`. Those specific inheritors are inner classes of this class.                                                                                                                                                                                           |
| SurfaceRules.ConditionSource | SurfaceRules.MaterialCondition |  MaterialRules.MaterialCondition  |                        -                         | A Functional Interface that takes in a `Context` and outputs a `Condition`. Those `Condition`s are created in the `apply` method that `ConditionSource`s override. `ConditionSource` is used to give proper context, such as `NoiseCondtiionSource` making `NoiseCondition` have the correct noise and bounds in its `test` method.                          |
|   SurfaceRules.RuleSource    |    SurfaceRule.MaterialRule    |    MaterialRules.MaterialRule     |                        -                         | A Functional Interface that takes in a `Context` and outputs a `SurfaceRule`. Those `SurfaceRule`s are created in the `apply` that `MaterialRule`'s override. Similar to the `ConditionSource`, a `MaterialRule` can provide context/preprocessing, such as how the `SequenceMaterialRule` transforms each of the given `MaterialRule`s into `SurfaceRule`s. |
|   SurfaceRules.SurfaceRule   |    SurfaceRules.SurfaceRule    |   MaterialRules.BlockStateRule    |                        -                         | The base class for the actual rules - these all override the `tryApply` method (from `SurfaceRule`) that takes in block coordinates, and returns what blockstate should be placed, if any. It should be noted that this does not actually place blocks.                                                                                                      |

### Condition-Related Classes

These are the default classes for various types of `Condition`s. For brevity, only `ConditionSource`s will be mentioned - to see the associated `Condition`, look in the `apply` method of a given `ConditionSource`.

| MojMap (base class SurfaceRules) |       QM (base class SurfaceRules)       |  Yarn (base class MaterialRules)  | Datapack Identifier (prepended with `mineraft:` |                                                                                                    Description                                                                                                     |
|:--------------------------------:|:----------------------------------------:|:---------------------------------:|:-----------------------------------------------:|:------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------:|
|     AbovePreliminarySurface      | AbovePreliminarySurfaceMaterialCondition |     SurfaceMaterialCondition      |           `above_preliminary_surface`           |                                                                 Checks that the selected block is near-ish to the surface (max is ~20 blocks down)                                                                 |
|       BiomeConditionSource       |          BiomeMaterialCondition          |      BiomeMaterialCondition       |                     `biome`                     |                                                                                     Checks for a biome at the selected block.                                                                                      |
|               Hole               |          HoleMaterialCondition           |       HoleMaterialCondition       |                     `hole`                      |                        Checks that the surface noise (used for `add_surface_depth` in the `stone_depth` condition) is 0 - one manifestation of this is where there is no dirt below grass.                         |
|  NoiseThresholdConditionSource   |     NoiseThresholdMaterialCondition      |  NoiseThresholdMaterialCondition  |                `noise_threshold`                |                                                                                Checks the given noise value at the selected block.                                                                                 |
|        NotConditionSource        |           NotMaterialCondition           |       NotMaterialCondition        |                      `not`                      |                                                                                            Inverts the given condition.                                                                                            |
|              Steep               |          SteepMaterialCondition          |      SteepMaterialCondition       |                     `steep`                     |                                        Checks the vertical gradient in North and East directions of a block, and succeed if it is greater than ~2 (~4 on a chunk boundary).                                        |
|         StoneDepthCheck          |       StoneDepthMaterialCondition        |    StoneDepthMaterialCondition    |                  `stone_depth`                  |                     One of the most powerful surface rules - for a short summary, this rule can be configured to restrict surface rules to floors/ceilings, whether in caves or above ground.                      |
|           Temperature            |       TemperatureMaterialCondition       |   TemperatureMaterialCondition    |                  `temperature`                  | Restricts surface rules based on (biome) temperature, namely some parts of frozen oceans and all of other frozen biomes. The only use of this is to restrict surface rules to these biomes, not for anything else. |
| VerticalGradientConditionSource  |    VerticalGradientMaterialCondition     | VerticalGradientMaterialCondition |               `vertical_gradient`               |                                                         Restricts surface rules by y-level with a randomness-based transition. Think of the bedrock floor.                                                         |
|       WaterConditionSource       |          WaterMaterialCondition          |      WaterMaterialCondition       |                     `water`                     |                    Checks if the block is under **naturally generated** (not placed by surface rules) liquid. Useful for waterlogging, setting concrete powder to concrete automatically, etc.                     |
|         YConditionSource         |         AboveYMaterialCondition          |      AboveYMaterialCondition      |                    `y_above`                    |                                                                                      Checks if selected block is either above                                                                                      |


